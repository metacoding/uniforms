(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{56:function(a,e,n){"use strict";n.r(e),n.d(e,"frontMatter",function(){return o}),n.d(e,"rightToc",function(){return p}),n.d(e,"default",function(){return N});n(0);var t=n(115);n(116);function c(){return(c=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a}).apply(this,arguments)}function s(a,e){if(null==a)return{};var n,t,c=function(a,e){if(null==a)return{};var n,t,c={},s=Object.keys(a);for(t=0;t<s.length;t++)n=s[t],e.indexOf(n)>=0||(c[n]=a[n]);return c}(a,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(t=0;t<s.length;t++)n=s[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(c[n]=a[n])}return c}var o={id:"bridges-graphql",title:"GraphQL"},p=[],m={rightToc:p},r="wrapper";function N(a){var e=a.components,n=s(a,["components"]);return Object(t.a)(r,c({},m,n,{components:e,mdxType:"MDXLayout"}),Object(t.a)("pre",{className:"language-js"},Object(t.a)("code",c({parentName:"pre"},{className:"language-js"}),Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"import")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),Object(t.a)("span",c({parentName:"code"},{className:"token maybe-class-name"}),"GraphQLBridge"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"from")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'uniforms-bridge-graphql'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"import")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"buildASTSchema",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"from")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'graphql'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"import")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"parse",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"from")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'graphql'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," schema ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token template-string"}),Object(t.a)("span",c({parentName:"span"},{className:"token string"}),"`\n    type Author {\n        id:        String!\n        firstName: String\n        lastName:  String\n    }\n\n    type Post {\n        id:     Int!\n        author: Author!\n        title:  String\n        votes:  Int\n    }\n\n    # This is required by buildASTSchema\n    type Query { anything: ID }\n`")),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," schemaType ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token function"}),"buildASTSchema"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token function"}),"parse"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"schema",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token method function property-access"}),"getType"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'Post'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," schemaData ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    allowedValues",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"1"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"2"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"3"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n  title",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    options",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"label",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"1"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," value",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'a'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"label",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"2"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," value",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'b'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," ",Object(t.a)("span",c({parentName:"code"},{className:"token function-variable function"}),"schemaValidator")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token parameter"}),"model")," ",Object(t.a)("span",c({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," details ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"if")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"!"),"model",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"id"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    details",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token method function property-access"}),"push"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"name",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'id'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," message",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'ID is required!'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token comment"}),"// ..."),"\n\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"if")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"details",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"length"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"throw")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"details",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," bridge ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.a)("span",c({parentName:"code"},{className:"token class-name"}),"GraphQLBridge"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"schemaType",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," schemaValidator",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," schemaData",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token comment"}),"// Later..."),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"<"),Object(t.a)("span",c({parentName:"code"},{className:"token maybe-class-name"}),"ValidatedForm")," schema",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"="),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"bridge",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"/"),Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),">"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n")))}N.isMDXComponent=!0}}]);