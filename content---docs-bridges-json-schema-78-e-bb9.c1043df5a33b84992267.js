(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{58:function(a,e,n){"use strict";n.r(e),n.d(e,"frontMatter",function(){return o}),n.d(e,"rightToc",function(){return p}),n.d(e,"default",function(){return N});n(0);var t=n(115);n(116);function c(){return(c=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a}).apply(this,arguments)}function s(a,e){if(null==a)return{};var n,t,c=function(a,e){if(null==a)return{};var n,t,c={},s=Object.keys(a);for(t=0;t<s.length;t++)n=s[t],e.indexOf(n)>=0||(c[n]=a[n]);return c}(a,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(t=0;t<s.length;t++)n=s[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(c[n]=a[n])}return c}var o={id:"bridges-json-schema",title:"JSON Schema"},p=[],m={rightToc:p},r="wrapper";function N(a){var e=a.components,n=s(a,["components"]);return Object(t.a)(r,c({},m,n,{components:e,mdxType:"MDXLayout"}),Object(t.a)("pre",{className:"language-js"},Object(t.a)("code",c({parentName:"pre"},{className:"language-js"}),Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"import")," ",Object(t.a)("span",c({parentName:"code"},{className:"token maybe-class-name"}),"Ajv")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"from")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'ajv'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"import")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),Object(t.a)("span",c({parentName:"code"},{className:"token maybe-class-name"}),"JSONSchemaBridge"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword module"}),"from")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'uniforms-bridge-json-schema'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," schema ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  title",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'Person'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n  type",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'object'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n  properties",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    firstName",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n      type",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'string'"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n    lastName",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n      type",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'string'"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n    age",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n      description",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'Age in years'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n      type",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'integer'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n      minimum",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"0"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n  required",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'firstName'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.a)("span",c({parentName:"code"},{className:"token string"}),"'lastName'"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," validator ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.a)("span",c({parentName:"code"},{className:"token class-name"}),"Ajv"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"allErrors",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token boolean"}),"true"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," useDefaults",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.a)("span",c({parentName:"code"},{className:"token boolean"}),"true"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token method function property-access"}),"compile"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"schema",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," ",Object(t.a)("span",c({parentName:"code"},{className:"token function-variable function"}),"schemaValidator")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token parameter"}),"model")," ",Object(t.a)("span",c({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token function"}),"validator"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"model",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"if")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"validator",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"errors")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"&&")," validator",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"errors"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"length"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"throw")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"details",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":")," validator",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token property-access"}),"errors"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," bridge ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.a)("span",c({parentName:"code"},{className:"token class-name"}),"JSONSchemaBridge"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"schema",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),",")," schemaValidator",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token comment"}),"// Later..."),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"<"),Object(t.a)("span",c({parentName:"code"},{className:"token maybe-class-name"}),"ValidatedForm")," schema",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"="),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"bridge",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"/"),Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),">"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n")))}N.isMDXComponent=!0}}]);